# FreeRoom 项目开发计划 (TODO)

## 🚨 重要提醒

本项目的主要通信功能尚未完成，当前版本仅包含基础框架和部分功能模块。以下列出了需要完成的任务。

## 📋 待完成功能

### 🔴 高优先级（核心功能）
- [ ] 实现实时消息发送与接收功能
- [ ] 修复加密通信功能，确保消息在传输过程中正确加密/解密
- [ ] 完善私聊功能，确保用户间可以进行一对一加密通信
- [ ] 修复联系人列表同步问题，确保双方都能看到彼此
- [ ] 完善加密请求的双向添加机制，确保接受请求后双方互为联系人

### 🟡 中优先级（增强功能）
- [ ] 优化数据库查询性能，特别是消息表和请求表的查询
- [ ] 添加消息送达确认机制
- [ ] 实现离线消息存储与同步
- [ ] 完善用户在线/离线状态检测
- [ ] 添加消息撤回/删除功能
- [ ] 优化加密算法性能，减少CPU占用

### 🟢 低优先级（辅助功能）
- [ ] 添加表情符号和富文本消息支持
- [ ] 实现文件传输功能（带加密）
- [ ] 添加语音/视频通话功能
- [ ] 实现群组聊天功能
- [ ] 添加消息搜索功能
- [ ] 优化移动端用户体验

## 🐛 已知问题

1. **通信功能不完整** - 主要消息发送接收功能尚未完成
2. **联系人同步问题** - 接受请求后，双向联系人添加机制未完全实现
3. **加密验证不足** - 加密通信的有效性和安全性需要进一步验证
4. **UI/UX问题** - 界面在某些情况下可能出现显示异常

## 📅 预期开发路线

### Phase 1: 核心通信功能
- [ ] 完成实时消息发送/接收
- [ ] 实现可靠的加密/解密机制
- [ ] 修复联系人管理功能

### Phase 2: 功能增强
- [ ] 添加消息历史记录
- [ ] 实现消息确认机制
- [ ] 优化用户界面

### Phase 3: 安全与性能优化
- [ ] 进行安全审计
- [ ] 优化性能
- [ ] 完善错误处理

## 📝 开发注意事项

1. **安全性** - 所有通信必须经过加密，确保端到端安全
2. **兼容性** - 确保在主流浏览器中正常工作
3. **性能** - 优化加密算法，减少资源消耗
4. **易用性** - 保持用户界面简洁直观